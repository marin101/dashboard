{
    name: "Name of the module",
    description: "Description of the module",

    # Order of steps must correspond with the order of parameter lists
    steps: [
        {
            id: "read",
            name: "Read",
            description: "Description of this step"
        },
        {
            id: "prep",
            name: "Preparation",
            description: "Description of this step"
        },
        {
            id: "model",
            name: "Model",
            description: "Description of this step"
        },
        {
            id: "optim",
            name: "Optimization",
            description: "Description of this step"
        }
    ],

    parameters: [
    [
        # Read step parameters
        {
            id: "file1",
            type: "file",
            name: "Input data",
            description: "Upload input data in CSV format",
          },
          {
             id: "depvar",
             type: "dragDrop",
             name: "Target variable",
             description: "What you want to model",
          },
          {
             "id": "subject",
             "type": "dragDrop",
             "name": "Subject",
             "description": "Level at which impacts will be reported",
          },
          {
             "id": "period",
             "type": "dragDrop",
             "name": "Period",
             "description": "Column which represents time period",
          },
          {
             "id": "pbounds",
             "type": "range",
             "name": "Model start period",
             "description": "Periods prior to this will not be included in the model",

             source: period,
          },
          {
             "id": "datefmt",
             "type": "radio",           # Mutually exclusive checkboxes
             "name": "Date format",
             "description": "Format in which dates are stored in the input file",

             "defaultValue": 0,         # Index in the choice array

             "choice": ["YYYY-MM-DD", "DD-MM-YYYY", "MM-DD-YYYY"],
             "returnValue": ["%Y-%m-%d", "%d-%m-%Y", "%m-%d-%Y"],
          },
          {
             "id": "lst_dim",
             "type": "dragDrop",
             "name": "Descriptor columns",
             "description": "These will NOT be used for modeling",

             "defaultValue": "NA",
          },
          {
             id: "impute",
             type: "checkbox",
             name: "Impute missing values?",
             description: "Missing values will be replaced with zero",

             defaultValue: true,            # true = checked, false == unchecked
             returnValue: ['0', '1'],       # [unchecked_retval, checked_ret_val]
          },
          {
             "id": "outlier",
             "type": "checkbox",
             "name": "Treat outliers?",
             "description": "Outliers will be replaced with median",

             "defaultValue": false,
             "returnValue": ['0', '1'],
          },
          {
             "id": "static",
             "type": "slider",
             "name": "Set the static",
             "description": "Subjects will be dropped if they have data for less than static % of periods",

             "defaultValue": 0,

             min: 0,
             max: 100,
             step: 1,
          }
        ],

        # Preparation step parameters
        [
          {
             id: "use_decay",
             type: "checkbox",
             name: "Apply adstock decay?",
             description: "Apply adstock decay?",

             defaultValue: true,
             returnValue: ['0', '1'],
          },
          {
             "id": "decay_bounds",
             "type": "range",
             "name": "Minimum decay rate",
             "description": "All decay rates starting from this value will be modeled",

             "defaultValue": [0.5, 0.8],

             min: 0,
             max: 100,
             step: 1,
          },
          {
             "id": "use_log",
             "type": "radio",
             "name": "Apply log transformation?",
             "description": "Can be applied to target variables only or both target variables and factors",

             "defaultValue": 0,

             "choice": ["None","Semi-log","Log-log"],
             "returnValue": [0, 1, 2],
          },
          {
             "id": "use_mc",
             "type": "checkbox",
             "name": "Apply mean centering?",
             "description": "Apply mean centering?",

             "defaultValue": true,
             "returnValue": ['1', '0'],
          }
       ],

        # Model step parameters
        [
          {
             "id": "use_seas",
             "type": "radio",
             "name": "Model seasonality?",
             "description": "Options for modeling seasonality",

             "defaultValue": 0,

             "choice": ["None","Dummy Month Factors","Numeric Sales Factors"],
             "returnValue": [0, 1, 2],
          },
          {
             "id": "lst_seas",
             "type": "dragDrop",
             "name": "Select periods to control for",
             "description": "Dummy seasonality factors will be used (leave blank to let model decide the periods)",

             "defaultValue": "NA",
          },
          {
             "id": "lst_rand",
             "type": "dragDrop",
             "name": "Variables to randomize",
             "description": "Impacts for these variables will be reported at a subject level (leave blank to randomize all)",

             "defaultValue": "NA",
          },
          {
             "id": "covstr",
             "type": "radio",
             "name": "Select covariance structure",
             "description": "Options to model random effect interactions",

             "defaultValue": 0,
             "choice": ["Uncorrelated random slopes","Correlated random slopes","Try both options"],
             "returnValue": ["0","1","2"],
          },
          {
             "id": "use_stat",
             "type": "radio",
             "name": "Select fit statistic to use",
             "description": "Best model will be selected based on this statistic. These measures should be interpreted in a relative sense only.",

             "defaultValue": 0,

             "choice": ["Use R-squared","Use AIC (Akaike Information Criterion)"],
             "returnValue": [1, 2],
          },
          {
             "id": "use_prior",
             "type": "radio",
             "name": "Select prior values to use",
             "description": "Interpret priors as % contribution or ROI?",

             "defaultValue": 0,

             "choice": ["Use prior channel contribution","Use prior channel ROI"],
             "returnValue": ["1","2"],
          },
          {
             "id": "lst_prior",
             "type": "slider",
             "name": "List of prior values",
             "description": "List of prior values",

             "defaultValue": "NA",

             min: 0,
             max: 100,
             step: 1,
          },
          {
             "id": "mixnmatch",
             "type": "radio",
             "name": "Report channel impacts from different models?",
             "description": "Uncheck to ensure all impacts reported from a single model",

             "defaultValue": 1,

             "choice": [false, true],
             "returnValue": [0, 1],
          },
          {
             "id": "lst_cost",
             "type": "text",
             "name": "Enter per unit channel costs",
             "description": "Required for calculating ROI",

             "defaultValue": "NULL"
          },
          {
             "id": "margin",
             "type": "text",
             "name": "Enter gross margin",
             "description": "Required for calculating ROI",

             "defaultValue": 1
          }
       ],

        # Optimize step parameters
           [
          {
             "id": "optim_goal",
             "type": "radio",
             "name": "Select optimization goal",
             "description": "Defines what to optimize",

             "defaultValue": 0,

             "choice": ["Sales Max with Budget Constraint","Cost Min with Sales Target Constraint"],
             "returnValue": [1, 2],
          },
          {
             "id": "budget_factor",
             "type": "slider",
             "name": "Total channel cost as a ratio of current",
             "description": "Expands the Budget Constraint to go beyond current budget",

             "defaultValue": 1,

             min: 0,
             max: 100,
             step: 1,
          },
          {
             "id": "sales_factor",
             "type": "slider",
             "name": "Target sales as a ratio of current",
             "description": "Expands the Sales Target Constraint to go beyond current sales",

             "defaultValue": 1,

             min: 0,
             max: 100,
             step: 1
          }
        ]
    ]
}
